<!DOCTYPE html>
<html>
<head>
    <title>Custom Video Player</title>
    <!-- Include HLS.js from a CDN -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <style>
        /* Add your custom styles here */
    </style>
</head>
<body>
    <script>
        fetch('https://hls.streambtw.com/live/stream_e2.m3u8', {
            headers: {
                'Referer': 'https://sanpandey2016.github.io/sajhatv.github.io/'
            }
        })
        .then(function(response) {
            if (response.ok) {
                return response.blob();
            } else {
                throw new Error('Network response was not ok.');
            }
        })
        .then(function(blob) {
            const videoElement = document.createElement('video');
            videoElement.controls = true;
            videoElement.width = 640;
            videoElement.height = 360;
            document.body.appendChild(videoElement);

            const videoURL = URL.createObjectURL(blob);
            videoElement.src = videoURL;

            if (Hls.isSupported()) {
                const hls = new Hls();
                hls.loadSource(videoURL);
                hls.attachMedia(videoElement);
                hls.on(Hls.Events.MANIFEST_PARSED, function () {
                    videoElement.play();
                });
            } else if (videoElement.canPlayType('application/vnd.apple.mpegurl')) {
                videoElement.src = videoURL;
                videoElement.addEventListener('loadedmetadata', function () {
                    videoElement.play();
                });
            }
        })
        .catch(function(error) {
            console.error('Fetch error:', error);
        });
    </script>
</body>
</html>
